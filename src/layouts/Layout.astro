---
interface Props {
	title: string;
}

const { title } = Astro.props;
const author = "Vitalis Mutwiri"
const date = new Date()
const description = "I am Vitalis A frontend developer Throughout my career, I've had the privilege of contributing to diverse projects, each offering a unique challenge and opportunity for growth. This experience has allowed me to sharpen my skills and collaborate with a network of intelligent and driven professionals. Here's a brief overview"
// Supports weights 200-800
import '@fontsource-variable/plus-jakarta-sans';
import '@/styles/global.css'
import { motion, AnimatePresence } from 'framer-motion';
import Header from '@/components/shared/Header';
import ContactBar from '@/components/shared/ContactBar';
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article" />
    <meta property="og:url" content={`https://yourdomain.com`} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={'https://pbs.twimg.com/profile_images/1577206532160176128/qz_G5k4Z_400x400.jpg'} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={`https://x.com/WilsonVitalis`} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={'https://pbs.twimg.com/profile_images/1577206532160176128/qz_G5k4Z_400x400.jpg'} />

    <!-- Canonical URL -->
    <link rel="canonical" href={`https://yourdomain.com`} />

    <!-- Additional SEO tags -->
    <meta name="author" content={author} />
    <!-- <meta name="date" content={date} /> -->
    <meta name="keywords" content="software engineer developer front-end developer full-stack developer" />
		<title>{title}</title>
	</head>
	<body>
		<!-- Cooking Preloader -->
		<div id="preloader" class="preloader">
			<div class="kitchen">
				<!-- Pot -->
				<div class="pot-wrap">
					<div class="steam-container">
						<div class="steam steam-1"></div>
						<div class="steam steam-2"></div>
						<div class="steam steam-3"></div>
					</div>
					<div class="pot">
						<div class="pot-body">
							<div class="bubble bubble-1"></div>
							<div class="bubble bubble-2"></div>
							<div class="bubble bubble-3"></div>
							<div class="bubble bubble-4"></div>
						</div>
						<div class="pot-handle-left"></div>
						<div class="pot-handle-right"></div>
					</div>
					<div class="spoon"></div>
					<div class="flame-container">
						<div class="flame flame-1"></div>
						<div class="flame flame-2"></div>
						<div class="flame flame-3"></div>
					</div>
				</div>
				<p class="loader-text">Cooking up something special<span class="dots"></span></p>
			</div>
		</div>

		<Header client:load />
		<slot />
		<ContactBar client:load />
	</body>
</html>

<style is:global>
body {
  font-family: 'Plus Jakarta Sans Variable', sans-serif;
	margin: 0%;
	padding: 0%;
}

/* ── Preloader ── */
.preloader {
	position: fixed;
	inset: 0;
	z-index: 9999;
	background: #201d1b;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: opacity 0.6s ease, visibility 0.6s ease;
}
.preloader.hidden {
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
}

.kitchen {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 2rem;
}

/* Pot wrapper */
.pot-wrap {
	position: relative;
	width: 120px;
	height: 140px;
}

/* Pot body */
.pot {
	position: absolute;
	bottom: 24px;
	left: 50%;
	transform: translateX(-50%);
}
.pot-body {
	width: 80px;
	height: 52px;
	background: linear-gradient(180deg, #4a4a4a 0%, #2a2a2a 100%);
	border-radius: 0 0 16px 16px;
	position: relative;
	overflow: hidden;
	border-top: 4px solid #666;
}
.pot-body::before {
	content: '';
	position: absolute;
	top: 0;
	left: 4px;
	right: 4px;
	bottom: 8px;
	background: linear-gradient(180deg, #e34b3a 0%, #c0392b 60%, #8b2a1e 100%);
	border-radius: 0 0 12px 12px;
}
.pot-handle-left,
.pot-handle-right {
	position: absolute;
	top: 4px;
	width: 14px;
	height: 10px;
	border: 3px solid #666;
	border-bottom: none;
	border-radius: 6px 6px 0 0;
}
.pot-handle-left { left: -16px; }
.pot-handle-right { right: -16px; }

/* Bubbles */
.bubble {
	position: absolute;
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background: rgba(255, 255, 255, 0.3);
	z-index: 2;
}
.bubble-1 { bottom: 10px; left: 18px; animation: bubbleUp 1.2s ease-in infinite 0s; }
.bubble-2 { bottom: 8px; left: 38px; animation: bubbleUp 1.5s ease-in infinite 0.3s; }
.bubble-3 { bottom: 12px; left: 55px; animation: bubbleUp 1s ease-in infinite 0.6s; width: 4px; height: 4px; }
.bubble-4 { bottom: 6px; left: 28px; animation: bubbleUp 1.8s ease-in infinite 0.9s; width: 5px; height: 5px; }

@keyframes bubbleUp {
	0% { transform: translateY(0) scale(1); opacity: 0.6; }
	50% { opacity: 0.8; }
	100% { transform: translateY(-35px) scale(0.3); opacity: 0; }
}

/* Steam */
.steam-container {
	position: absolute;
	top: 10px;
	left: 50%;
	transform: translateX(-50%);
	width: 60px;
	height: 50px;
}
.steam {
	position: absolute;
	bottom: 0;
	width: 8px;
	height: 20px;
	background: rgba(236, 199, 188, 0.08);
	border-radius: 50%;
	filter: blur(4px);
}
.steam-1 { left: 10px; animation: steamRise 2s ease-out infinite 0s; }
.steam-2 { left: 26px; animation: steamRise 2.3s ease-out infinite 0.4s; }
.steam-3 { left: 42px; animation: steamRise 1.8s ease-out infinite 0.8s; }

@keyframes steamRise {
	0% { transform: translateY(0) scaleX(1); opacity: 0; }
	15% { opacity: 0.5; }
	50% { transform: translateY(-30px) scaleX(1.8); opacity: 0.3; }
	100% { transform: translateY(-55px) scaleX(2.5); opacity: 0; }
}

/* Stirring spoon */
.spoon {
	position: absolute;
	bottom: 40px;
	left: 50%;
	width: 4px;
	height: 50px;
	background: linear-gradient(180deg, #ccc 0%, #888 100%);
	border-radius: 2px;
	transform-origin: bottom center;
	animation: stir 1.5s ease-in-out infinite;
}
.spoon::after {
	content: '';
	position: absolute;
	bottom: -6px;
	left: 50%;
	transform: translateX(-50%);
	width: 12px;
	height: 8px;
	background: #999;
	border-radius: 0 0 6px 6px;
}

@keyframes stir {
	0%, 100% { transform: rotate(-15deg); }
	50% { transform: rotate(15deg); }
}

/* Flames */
.flame-container {
	position: absolute;
	bottom: 0;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	gap: 6px;
}
.flame {
	width: 10px;
	height: 16px;
	background: linear-gradient(180deg, #ffbe0b 0%, #e34b3a 60%, #c0392b 100%);
	border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
	animation: flicker 0.4s ease-in-out infinite alternate;
}
.flame-1 { animation-delay: 0s; height: 14px; }
.flame-2 { animation-delay: 0.15s; height: 18px; }
.flame-3 { animation-delay: 0.3s; height: 12px; }

@keyframes flicker {
	0% { transform: scaleY(1) scaleX(1); opacity: 0.9; }
	100% { transform: scaleY(1.15) scaleX(0.85); opacity: 1; }
}

/* Text */
.loader-text {
	color: #ecc7bc;
	font-size: 0.95rem;
	letter-spacing: 0.15em;
	text-transform: uppercase;
	opacity: 0.7;
}
.dots::after {
	content: '';
	animation: dotAnim 1.5s steps(3) infinite;
}
@keyframes dotAnim {
	0% { content: ''; }
	33% { content: '.'; }
	66% { content: '..'; }
	100% { content: '...'; }
}
</style>

<script is:inline>
	window.addEventListener('load', function() {
		var preloader = document.getElementById('preloader');
		if (preloader) {
			setTimeout(function() {
				preloader.classList.add('hidden');
			}, 1800);
			setTimeout(function() {
				preloader.style.display = 'none';
			}, 2500);
		}
	});
</script>